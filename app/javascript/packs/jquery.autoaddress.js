/*
 *  autoaddress-jquery-control 2.0.1
 *  Copyright (c) 2015 Bizmaps Limited
 *  Made by autoaddress.ie
 *
 *  Ajax Autocomplete for jQuery (c) 2015 Tomas Kirda */
!function(a){"use strict";function b(c,d){var e=function(){},f=this,g={ajaxSettings:{},autoSelectFirst:!0,appendTo:".autoaddress-control",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:3,defaultSearch:!1,maxHeight:300,deferRequestBy:0,params:{},formatResult:b.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:e,onSearchComplete:e,onSearchError:e,preserveInput:!1,containerClass:"autocomplete-suggestions",dataType:"text",currentRequest:null,triggerSelectOnValidInput:!1,preventBadQueries:!0,paramName:"query",transformResult:function(b){return"string"==typeof b?a.parseJSON(b):b},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1};f.element=c,f.el=a(c),f.suggestions=[],f.badQueries=[],f.selectedIndex=-1,f.currentValue=f.element.value,f.intervalId=0,f.cachedResponse={},f.onChangeInterval=null,f.onChange=null,f.isLocal=!1,f.suggestionsContainer=null,f.noSuggestionsContainer=null,f.options=a.extend({},g,d),f.classes={selected:"selected",suggestion:"autoaddress-suggestion"},f.hint=null,f.hintValue="",f.selection=null,f.initialize(),f.setOptions(d)}var c=function(){return{escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(a){var b=document.createElement("div");return b.className=a,b.style.position="absolute",b.style.display="none",b}}}(),d={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};b.utils=c,a.Autocomplete=b,b.formatResult=function(a){var b=a.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return b},b.prototype={killerFn:null,initialize:function(){var c,d=this,e="."+d.classes.suggestion,f=d.classes.selected,g=d.options;d.element.setAttribute("autocomplete","off"),d.killerFn=function(b){0===a(b.target).closest("."+d.options.containerClass).length&&(d.killSuggestions(),d.disableKillerFn())},d.noSuggestionsContainer=a('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),d.suggestionsContainer=b.utils.createNode(g.containerClass),c=a(d.suggestionsContainer),c.appendTo(g.appendTo),"auto"!==g.width&&c.width(g.width),c.on("mouseover.autocomplete",e,function(){d.activate(a(this).data("index"))}),c.on("mouseout.autocomplete",function(){d.selectedIndex=-1,c.children("."+f).removeClass(f)}),c.on("click.autocomplete",e,function(){d.select(a(this).data("index"))}),d.fixPositionCapture=function(){d.visible&&d.fixPosition()},d.el.on("keydown.autocomplete",function(a){d.onKeyPress(a)}),d.el.on("keyup.autocomplete",function(a){d.onKeyUp(a)}),d.el.on("blur.autocomplete",function(){d.onBlur()}),d.el.on("focus.autocomplete",function(){d.onFocus()}),d.el.on("change.autocomplete",function(a){d.onKeyUp(a)}),d.el.on("input.autocomplete",function(a){d.onKeyUp(a)})},onFocus:function(){var a=this;a.fixPosition()},onBlur:function(){this.enableKillerFn()},setOptions:function(b){var c=this,d=c.options;a.extend(d,b),c.isLocal=a.isArray(d.lookup),d.orientation=c.validateOrientation(d.orientation,"bottom"),a(c.suggestionsContainer).css({width:d.width+"px","z-index":d.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var a=this;a.disabled=!0,clearInterval(a.onChangeInterval),a.currentRequest&&a.currentRequest.abort()},enable:function(){this.disabled=!1},fixPosition:function(){var b=this,c=a(b.suggestionsContainer),d=c.parent().get(0);if(d===document.body||b.options.forceFixPosition){var e=b.options.orientation,f=c.outerHeight(),g=b.el.outerHeight(),h=b.el.offset(),i={top:h.top,left:h.left};if("auto"===e){var j=a(window).height(),k=a(window).scrollTop(),l=-k+h.top-f,m=k+j-(h.top+g+f);e=Math.max(l,m)===l?"top":"bottom"}if(i.top+="top"===e?-f:g,d!==document.body){var n,o=c.css("opacity");b.visible||c.css("opacity",0).show(),n=c.offsetParent().offset(),i.top-=n.top,i.left-=n.left,b.visible||c.css("opacity",o).hide()}"auto"===b.options.width&&(i.width=b.el.outerWidth()-2+"px"),c.css(i)}},enableKillerFn:function(){var b=this;a(document).on("click.autocomplete",b.killerFn)},disableKillerFn:function(){var b=this;a(document).off("click.autocomplete",b.killerFn)},killSuggestions:function(){var a=this;a.stopKillSuggestions(),a.intervalId=window.setInterval(function(){a.hide(),a.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var a,b=this,c=b.el.val().length,d=b.element.selectionStart;return"number"==typeof d?d===c:document.selection?(a=document.selection.createRange(),a.moveStart("character",-c),c===a.text.length):!0},onKeyPress:function(a){var b=this;if((b.disabled||b.visible||a.which!==d.DOWN||!b.currentValue)&&!b.disabled&&b.visible){switch(a.which){case d.ESC:return void b.hide();case d.RIGHT:if(b.hint&&b.options.onHint&&b.isCursorAtEnd()){b.selectHint();break}return;case d.TAB:return b.el.val(b.currentValue),void b.hide();case d.RETURN:if(-1===b.selectedIndex)return void b.hide();b.select(b.selectedIndex);break;case d.UP:b.moveUp();break;case d.DOWN:b.moveDown();break;default:return}a.stopImmediatePropagation(),a.preventDefault()}},onKeyUp:function(a){var b=this;if(!b.disabled){switch(a.which){case d.UP:case d.DOWN:return}clearInterval(b.onChangeInterval),b.currentValue!==b.el.val()&&(b.options.deferRequestBy>0?b.onChangeInterval=setInterval(function(){b.onValueChange()},b.options.deferRequestBy):b.onValueChange())}},onValueChange:function(){var b,c=this,d=c.options,e=c.el.val(),f=c.getQuery(e);return c.selection&&c.currentValue!==f&&(c.selection=null,(d.onInvalidateSelection||a.noop).call(c.element)),clearInterval(c.onChangeInterval),c.currentValue=e,c.selectedIndex=-1,d.triggerSelectOnValidInput&&(b=c.findSuggestionIndex(f),-1!==b)?void c.select(b):void(f.length<d.minChars?c.hide():c.getSuggestions(f))},findSuggestionIndex:function(b){var c=this,d=-1,e=b.toLowerCase();return a.each(c.suggestions,function(a,b){return b.value.toLowerCase()===e?(d=a,!1):void 0}),d},getQuery:function(b){var c,d=this.options.delimiter;return d?(c=b.split(d),a.trim(c[c.length-1])):b},getSuggestions:function(b){{var c,d=this,e=d.options;e.serviceUrl}e.params[e.paramName]=b,c=e.ignoreParams?null:e.params;var f=b.substr(b.length-1);return"."!==f&&e.onSearchStart.call(d.element,e.params)!==!1&&a.isFunction(e.lookup)?void e.lookup(b,function(a){d.suggestions=a.suggestions,d.suggest()}):void 0},isBadQuery:function(a){if(!this.options.preventBadQueries)return!1;for(var b=this.badQueries,c=b.length;c--;)if(0===a.indexOf(b[c]))return!0;return!1},hide:function(){var b=this,c=a(b.suggestionsContainer);a.isFunction(b.options.onHide)&&b.visible&&b.options.onHide.call(b.element,c),b.visible=!1,b.selectedIndex=-1,clearInterval(b.onChangeInterval),a(b.suggestionsContainer).hide(),a(b.suggestionsContainer).empty()},getSuggestionsHtml:function(b,c,d,e,f,g){if(c.length<1)return"";var h="";return g?(h+='<div class="'+d+' autoaddress-searchTerm autoaddress-defaultSearch" data-index="0">'+b.formatResult(c[0],f)+"</div>",a.each(c,function(a,c){a>0&&(h+='<div class="'+d+' autoaddress-defaultSearch" data-index="'+a+'">'+b.formatResult(c,f)+"</div>")})):1===c.length?h+='<div class="'+d+' autoaddress-searchTerm autoaddress-search" data-index="0">'+b.formatResult(c[0],f)+"</div>":(c.shift(),a.each(c,function(a,c){h+='<div class="'+d+' autoaddress-search" data-index="'+a+'">'+b.formatResult(c,f)+"</div>"})),h},suggest:function(){if(0===this.suggestions.length)return void(this.options.showNoSuggestionNotice?this.noSuggestions():this.hide());var b,c=this,d=c.options,e=c.getQuery(c.currentValue),f=c.classes.suggestion,g=c.classes.selected,h=a(c.suggestionsContainer),i=a(c.noSuggestionsContainer),j=d.beforeRender;if(d.triggerSelectOnValidInput&&(b=c.findSuggestionIndex(e),-1!==b))return void c.select(b);if(c.currentValue){var k=c.getSuggestionsHtml(d,c.suggestions,f,c.currentValue,e,c.options.defaultSearch);i.detach(),h.html(k),a.isFunction(j)&&j.call(c.element,h),c.fixPosition(),h.show(),d.autoSelectFirst&&(c.selectedIndex=0,h.scrollTop(0),h.children("."+f).first().addClass(g)),c.visible=!0}else c.suggestions=[],h.hide(),c.visible=!1},noSuggestions:function(){var b=this,c=a(b.suggestionsContainer),d=a(b.noSuggestionsContainer);d.detach(),c.empty(),c.append(d),b.fixPosition(),c.show(),b.visible=!0},validateOrientation:function(b,c){return b=a.trim(b||"").toLowerCase(),-1===a.inArray(b,["auto","bottom","top"])&&(b=c),b},activate:function(b){var c,d=this,e=d.classes.selected,f=a(d.suggestionsContainer),g=f.find("."+d.classes.suggestion);return f.find("."+e).removeClass(e),d.selectedIndex=b,-1!==d.selectedIndex&&g.length>d.selectedIndex?(c=g.get(d.selectedIndex),a(c).addClass(e),c):null},selectHint:function(){var b=this,c=a.inArray(b.hint,b.suggestions);b.select(c)},select:function(a){var b=this;b.hide(),b.onSelect(a)},moveUp:function(){var b=this;if(-1!==b.selectedIndex)return 0===b.selectedIndex?(a(b.suggestionsContainer).children().first().removeClass(b.classes.selected),b.selectedIndex=-1,void b.el.val(b.currentValue)):void b.adjustScroll(b.selectedIndex-1)},moveDown:function(){var a=this;a.selectedIndex!==a.suggestions.length-1&&a.adjustScroll(a.selectedIndex+1)},adjustScroll:function(b){var c=this,d=c.activate(b);if(d){var e,f,g,h=a(d).outerHeight();e=d.offsetTop,f=a(c.suggestionsContainer).scrollTop(),g=f+c.options.maxHeight-h,f>e?a(c.suggestionsContainer).scrollTop(e):e>g&&a(c.suggestionsContainer).scrollTop(e-c.options.maxHeight+h),c.options.preserveInput||c.el.val(c.getValue(c.suggestions[b].value))}},onSelect:function(b){var c=this,d=c.options.onSelect,e=c.suggestions[b];c.currentValue=c.getValue(e.value),c.currentValue===c.el.val()||c.options.preserveInput||c.el.val(c.currentValue),c.suggestions=[],c.selection=e,a.isFunction(d)&&d.call(c.element,e)},getValue:function(a){var b,c,d=this,e=d.options.delimiter;return e?(b=d.currentValue,c=b.split(e),1===c.length?a:b.substr(0,b.length-c[c.length-1].length)+a):a},dispose:function(){var b=this;b.el.off(".autocomplete").removeData("autocomplete"),b.disableKillerFn(),a(window).off("resize.autocomplete",b.fixPositionCapture),a(b.suggestionsContainer).remove()}},a.fn.AutoaddressAutocomplete=function(c,d){var e="autocomplete";return 0===arguments.length?this.first().data(e):this.each(function(){var f=a(this),g=f.data(e);"string"==typeof c?g&&"function"==typeof g[c]&&g[c](d):(g&&g.dispose&&g.dispose(),g=new b(this,c),f.data(e,g))})}}(jQuery),function(a){a.fn.AutoaddressTabs=function(b){return this.each(function(){var c={fadeIn:!1,hideHash:!0,selectedTab:1},d=a.extend({},c,b),e=a(this),f=e.children("ul"),g=f.find("a"),h=a("> div",e);g.click(function(a){var b=h.removeClass("selected").filter('[name="'+this.hash+'"]');g.removeClass("selected").filter(this).addClass("selected"),d.fadeIn?b.hide().addClass("selected").fadeIn():b.addClass("selected"),d.hideHash&&a.preventDefault()}),d.selectedTab&&g.eq(d.selectedTab-1).click()})}}(jQuery),$.utils={isLikePostcodeSearch:function(a){var b=a.toString().replace(/\s+/g,"").toUpperCase();return b.match(/^[a-zA-Z][0-9|W]{2}/)},isPostcodeSearch:function(a){return this.isLikePostcodeSearch(a)&&7===a.replace(/\s+/g,"").length},getLinkUrl:function(a,b){var c,d="";return a&&(c=$.grep(a,function(a){return a.rel==b}),d=c.length?c[0].href:""),d},createDiv:function(a,b){return $("<div/>",{"class":a,html:b})},preventMainScroll:function(a){if($(this).height()&&$(this).get(0).scrollHeight-1>$(this).height()){var b=a.originalEvent,c=b.wheelDelta||-b.detail;this.scrollTop+=30*(0>c?1:-1),a.preventDefault()}},keys:{ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40},languages:{en:{code:"EN",string:"English"},ga:{code:"GA",string:"Gaeilge"}},postcodeMatch:{UNDEFINED:0,POSTCODE_APPENDED:100,POSTCODE_VALIDATED:110,POSTCODE_AMENDED:120,ADDRESS_AMENDED:130,POSTCODE_AND_ADDRESS_AMENDED:140,POSTCODE_NOT_VALIDATED:150,POSTCODE_NOT_APPENDED:200,POSTCODE_RETIRED:210,NUA:300,PARTIAL:400,INCOMPLETE:500,NO_ADDRESS_MATCH:550,FOREIGN:600,INVALID:700}},function(a,b,c){"use strict";function d(b,c){this.element=a(b),this.settings=a.extend({},a.fn.AutoAddress.defaults,c),this.api={url:{byFindAddress:[this.settings.api_domain,"findaddress"].join("/"),autoComplete:[this.settings.api_domain,"autocomplete"].join("/")}},this.language=this.settings.language,this.country=this.settings.country,this.geographicAddress=this.settings.geographicAddress,this.vanityMode=this.settings.vanityMode,this.addressElements=this.settings.addressElements,this.addressProfile=this.settings.addressProfile,this.limit=this.settings.optionsLimit,this.displayBusinessListings=this.settings.displayBusinessListings,this.defaultSearch=this.settings.defaultSearch,this.options=[],this.backUrlList=[],this.nextUrl="",this.hasTabs=!1,this.transactionId=null,this.selectedOption=-1,this.init(),this.addContainerWrapper().addSearchField().addSearchButton().addAutoComplete(),a.isFunction(this.settings.onInitialize)&&this.settings.onInitialize.call(this)}a.extend(!0,d.prototype,{init:function(){var a=this;return a.$container=c,a.$searchInput=c,a.$searchButton=c,a.$languageSelect=c,a.$optionsContainer=c,a.$optionsHeader=c,a.$messageContainer=c,a.$backLink=c,a},addContainerWrapper:function(){var b=this;return b.$container=a.utils.createDiv(b.settings.containerClass).appendTo(b.element),"auto"!==b.settings.width&&b.$container.width(b.settings.width),this},addSearchField:function(){var b=this;return b.$searchInput=a("<input/>",{placeholder:b.getLabel("placeHolder"),type:"text",spellcheck:!1}).appendTo(b.$container).addClass(b.settings.searchInputClass).on("input.AutoAddress propertychange.AutoAddress",function(){b.clearErrorMessage();var c=a(this).val();a.isFunction(b.settings.onChange)&&b.settings.onChange.call(b,c),""===c&&a.isFunction(b.settings.onClear)&&b.settings.onClear.call(b),b.options&&(b.setDefaultState(),b.clearBackHistory())}).on("focus.AutoAddress",function(){a.isFunction(b.settings.onFocus)&&b.settings.onFocus.call(b)}).on("keypress.AutoAddress",function(c){c.which===a.utils.keys.RETURN&&(c.preventDefault(),-1!==b.selectedOption?b.optionOnSelect(b.selectedOption,b.options):b.searchQuery(b.$searchInput.val()))}).on("keydown.AutoAddress",function(c){(c.which===a.utils.keys.ESC||c.which===a.utils.keys.TAB)&&(b.setDefaultState(),b.clearBackHistory(),c.which===a.utils.keys.ESC&&b.clearAddress()),b.options&&b.options.length&&(c.which===a.utils.keys.DOWN&&(c.preventDefault(),b.moveDown()),c.which===a.utils.keys.UP&&(c.preventDefault(),b.moveUp()))}),b},addSearchButton:function(){var b=this;return b.$searchButton=a("<button/>",{html:b.getLabel("searchButton"),tabIndex:-1}).addClass(b.settings.searchButtonClass).appendTo(b.$container).on("click",function(a){a.preventDefault(),b.searchQuery(b.$searchInput.val())}),b},addAutoComplete:function(){var a=this;return a.settings.autocomplete&&a.$searchInput.AutoaddressAutocomplete({minChars:a.settings.autocompleteMinChars,defaultSearch:a.settings.defaultSearch,appendTo:a.$container,containerClass:a.settings.autocompleteContainer,lookup:function(b,c){a.autoCompleteSearch(b,c)},onSelect:function(b){a.autoCompleteOnSelect(b)}}),a},moveDown:function(){var a=this;a.selectedOption!==a.options.length-1&&a.adjustScroll(a.selectedOption+1)},moveUp:function(){var a=this;if(-1!==a.selectedOption)return 0===a.selectedOption?(a.$optionsContainer.find("."+a.settings.optionsItemClass).removeClass("active"),void(a.selectedOption=-1)):void a.adjustScroll(a.selectedOption-1)},activate:function(b){var c,d,e=this,f="active",g=e.$optionsContainer;return d=e.hasTabs?g.children(".selected").find("."+e.settings.optionsItemClass):g.find("."+e.settings.optionsItemClass),g.find("."+f).removeClass(f),e.selectedOption=b,-1!==e.selectedOption&&d.length>e.selectedOption?(c=d.get(e.selectedOption),a(c).addClass(f),c):void 0},adjustScroll:function(b){var c=this,d=c.activate(b);if(d){var e,f,g,h=a(d).outerHeight(),i=a("."+c.settings.optionsListClass);i&&(e=d.offsetTop,f=i.scrollTop(),g=f+i.height()-h,f>e?i.scrollTop(e):e>g&&i.scrollTop(e-i.height()+h))}},searchQuery:function(a){this.setDefaultState(),a?this.findAddress(a):this.displayErrorMessage(this.getLabel("inputRequired"))},autoCompleteSearch:function(b,c){var d=[],e=[],f={},g=this,h=g.createAPIOptions(this.api.url.autoComplete,b);return g.callApi(h.url,function(h){if(!g.checkResponseContainsError(h)){if(d=h.options,d&&a.each(d,function(a,b){var c={value:b.displayName,data:b};e.push(c)}),b.length>=g.settings.autocompleteMinChars){var i={value:b,data:"auto"};e.unshift(i)}f={suggestions:e},b===g.$searchInput.val()&&c.call(this,f)}},h),g},autoCompleteOnSelect:function(b){var c=this;return a.isFunction(c.settings.onAutoCompleteSelected)&&c.settings.onAutoCompleteSelected.call(this.element,b),"auto"===b.data?c.findAddress(b.value):c.findNextUrl(a.utils.getLinkUrl(b.data.links,"next")),c},optionOnSelect:function(b,c){var d=this,e=c[b];d.findNextUrl(a.utils.getLinkUrl(e.links,"next"))},findAddress:function(a){var b=this,c=b.createAPIOptions(b.api.url.byFindAddress,a);b.displaySearchingAnimation(),b.callApi(c.url,function(a){b.checkResponseContainsError(a)||(b.AddressData=a,b.findAddressWSCallback())},c)},findNextUrl:function(a){var b=this;b.displaySearchingAnimation(),b.callApi(a,function(a){b.checkResponseContainsError(a)||(b.AddressData=a,b.findAddressWSCallback())})},createAPIOptions:function(a,b){var c,d=this;c=a+"?language="+d.language,d.transactionId&&(c+="&txn="+d.transactionId);var e={url:c,address:b};return e},callApi:function(b,c,d){var e=this,f={url:b,dataType:"jsonp",timeout:3e4,type:"GET",success:c,error:function(b){e.displayErrorMessage(e.getLabel("errorMessage")),a.isFunction(e.settings.onLookupError)&&e.settings.onLookupError.call(e,b)},complete:function(){e.hideSearchingAnimation()}};d&&(f.data={key:e.settings.key,limit:e.limit,address:d.address,geographicAddress:e.geographicAddress,vanityMode:e.vanityMode,addressElements:e.addressElements,addressProfileName:e.addressProfile,country:e.country}),a.ajax(f)},findAddressWSCallback:function(){var b=this,c=this.AddressData,d=c.result.code,e=c.options,f=a.utils.postcodeMatch,g=c.unmatched,h=c.links;if(b.$searchInput.AutoaddressAutocomplete("hide"),b.setDefaultState(),b.nextUrl&&b.backUrlList.push(b.nextUrl),b.transactionId||(b.transactionId=c.input.txn),b.nextUrl=a.utils.getLinkUrl(h,"self"),a.isFunction(b.settings.onSearchCompleted)&&b.settings.onSearchCompleted.call(this,c),e&&e.length){b.addOptionsContainer().addOptionsHeader();var i=a.grep(e,function(a){return"GroupedBusiness"!==a.optionType.text}),j=a.grep(e,function(a){return"GroupedBusiness"===a.optionType.text});i.length&&j.length&&i.length>1?b.displayBusinessListings?(b.options=i,b.addressOptions=i,b.businessOptions=j,b.addTabbedOptions(i,j)):(b.options=i,b.addOptions("",i,!1)):(b.options=e,b.addOptions("",e,!1))}else{switch(b.clearBackHistory(),d){case f.POSTCODE_APPENDED:case f.POSTCODE_AMENDED:case f.ADDRESS_AMENDED:case f.POSTCODE_VALIDATED:case f.POSTCODE_AND_ADDRESS_AMENDED:b.clearAddress(),b.addMessageContainer(b.getLabel("addressFound"),b.settings.successMessageContainerClass),b.transactionId=null;break;case f.POSTCODE_NOT_APPENDED:b.addMessageContainer(b.getLabel("noEircodeAppended"),b.settings.infoMessageContainerClass),b.transactionId=null;break;case f.NUA:b.clearAddress(),b.addMessageContainer(b.getLabel("nuaAddressFound"),b.settings.infoMessageContainerClass),b.transactionId=null;break;case f.PARTIAL:b.addMessageContainer(b.getLabel("partialAddress").replace("[unmatched]","<strong>"+g+"</strong>"),b.settings.infoMessageContainerClass),b.transactionId=null;break;case f.INCOMPLETE:b.addMessageContainer(b.getLabel("incompleteAddress"),b.settings.infoMessageContainerClass),b.transactionId=null;break;case f.POSTCODE_RETIRED,f.NO_ADDRESS_MATCH,f.FOREIGN,f.INVALID,f.UNDEFINED:b.addMessageContainer(b.getLabel("noResultFound"),b.settings.infoMessageContainerClass);break;case f.POSTCODE_NOT_VALIDATED:b.addMessageContainer(b.getLabel("eircodeNotValidated"),b.settings.infoMessageContainerClass);break;default:b.addMessageContainer(b.getLabel("noResultFound"),b.settings.infoMessageContainerClass)}a.isFunction(b.settings.onAddressFound)&&b.settings.onAddressFound.call(this,c)}b.backUrlList&&b.backUrlList.length&&b.addBackLink()},addMessageContainer:function(b,c){var d=this;return b&&(d.$messageContainer=a.utils.createDiv(c,"<span></span>"+b).appendTo(d.$container),d.addCloseIcon()),d},hideMessageContainer:function(){this.$messageContainer&&this.$messageContainer.remove()},addOptionsContainer:function(){var b=this;return b.$optionsContainer=a.utils.createDiv(b.settings.optionsContainerClass).appendTo(b.$container),b.settings.hoverOptionPanel&&b.$optionsContainer.addClass("hover"),b.$optionsContainer.on("mouseleave.AutoAddress","ul",function(){b.selectedOption=-1,b.$optionsContainer.find(".active").removeClass("active")}),b},addCloseIcon:function(){var b=this;return b.$closeMessage=a("<a/>",{href:"#",tabIndex:-1}).addClass(b.settings.closeIconClass).on("click",function(a){a.preventDefault(),b.hideMessageContainer()}).prependTo(b.$messageContainer),b},addBackLink:function(){var b=this;return b.$backLink=a("<a/>",{html:b.getLabel("back"),href:"#",tabIndex:-1}).addClass(b.settings.backLinkClass).on("click",function(a){a.preventDefault();var c=b.backUrlList.pop();b.nextUrl="",b.findNextUrl(c)}),b.$optionsContainer.after(b.$backLink),b},addOptionsHeader:function(){return this.settings.optionsFoundLabel&&(this.$optionsHeader=a.utils.createDiv(this.settings.infoMessageContainerClass,"<span></span>"+this.getLabel("optionsFound")),this.$optionsContainer.append(this.$optionsHeader)),this},addTabbedOptions:function(b,c){var d=this,e=a("<ul/>",{"class":d.settings.multiTabsClass});return e.append('<li><a href="#Residential">'+d.getLabel("addressTab")+"</a></li>"),e.append('<li><a href="#Commercial">'+d.getLabel("businessTab")+"</a></li>"),d.$optionsContainer.append(e),e.on("click.AutoAddress","a",function(){d.$searchInput.focus(),d.selectedOption=-1,d.options="#Commercial"==a(this).attr("href")?d.businessOptions:d.addressOptions}),d.addOptions("Residential",b,!0),d.addOptions("Commercial",c,!0),a("."+d.settings.optionsContainerClass).AutoaddressTabs(),d.hasTabs=!0,d},addOptions:function(b,c,d){var e,f=this;e=d?a("<div/>",{"class":f.settings.optionsListClass+" "+f.settings.multiTabPaneClass,name:"#"+b}):a.utils.createDiv(f.settings.optionsListClass);var g=f.getOptionsListItems(c);return e.append(a("<ul>").append(g)),f.$optionsContainer.append(e),e.on("click","li",function(b){b.preventDefault(),f.optionOnSelect(a(this).data("index"),c)}).on("mousewheel DOMMouseScroll",a.utils.preventMainScroll),f},getOptionsListItems:function(b){var c="",d=this;return a.each(b,function(a,b){var e=b.displayName,f="apartment",g="  -  ",h=b.addressType?b.addressType.code:0,i=b.optionType?b.optionType.code:0,j=e.toLowerCase().indexOf(f),k=e.lastIndexOf(g),l=2e3===h||0===i?"ma-arrow":"ma-list",m=e.substring(k+g.length);if(e)if(j>=0&&k>=0){var n=j+f.length,o=e.substring(n,k);e=e.replace(o,"<strong>"+o+"</strong>").replace(m,"<em>"+m+"</em>")}else if(k>=0){var p=e.substring(0,k);e=e.replace(p,"<strong>"+p+"</strong>").replace(m,"<em>"+m+"</em>")}c+='<li class="'+d.settings.optionsItemClass+'" data-index="'+a+'"><a tabindex="-1" href><span class="f-right '+l+'"></span>'+e+"</a></li>"}),c},setDefaultState:function(){var a=this;return a.$optionsContainer&&a.$optionsContainer.remove(),a.$messageContainer&&a.$messageContainer.remove(),a.$backLink&&a.$backLink.remove(),a.hasTabs=!1,a.selectedOption=-1,a.clearErrorMessage(),a.hideSearchingAnimation(),a},clearBackHistory:function(){return this.options=[],this.backUrlList.length=0,this.nextUrl="",this},clearErrorMessage:function(){return this.$messageContainer&&this.$messageContainer.remove(),this},displaySearchingAnimation:function(){var b=this;return a.isFunction(b.settings.onSearchStart)&&b.settings.onSearchStart.call(this),b.hasTabs=!1,b.$loadingContainer=a.utils.createDiv(this.settings.searchingClass).appendTo(b.$searchButton),b.$loadingContainer.append(a.utils.createDiv(this.settings.loadingAnimationClass)),b.$searchButton.addClass(b.settings.hideButtonTextClass),b},hideSearchingAnimation:function(){var a=this;return this.$loadingContainer&&(this.$loadingContainer.remove(),this.$searchButton.removeClass(a.settings.hideButtonTextClass)),this},displayErrorMessage:function(b){var c=this;return c.$messageContainer&&c.clearErrorMessage(),b?(c.setDefaultState(),c.$messageContainer=a.utils.createDiv(c.settings.errorMessageContainerClass,"<span></span>"+b).appendTo(this.$container),c.addCloseIcon(),c):c},setAddress:function(a){return this.clearAddress(),this.$searchInput.val(a),this},setLanguage:function(a){return this.language=a,this},setCountry:function(a){return this.country=a,this},setProfileName:function(a){return this.addressProfile=a,this},setLimit:function(a){return this.limit=a,this},setGeographicAddress:function(a){return this.geographicAddress=a,this},setVanityMode:function(a){return this.vanityMode=a,this},setAddressElements:function(a){return this.addressElements=a,this},setDisplayBusinessListings:function(a){return this.displayBusinessListings=a,this},showAutocomplete:function(){return this.$searchInput.trigger("keyup"),this},clearAddress:function(){return this.$searchInput.val(""),a.isFunction(this.settings.onClear)&&this.settings.onClear.call(this),this},getLabel:function(b){var c=this,d="",e=c.language.toUpperCase()===a.utils.languages.en.code;switch(b){case"placeHolder":d=e?c.settings.placeHolderLabel:c.settings.placeHolderLabel_ga;break;case"searchButton":d=e?c.settings.searchButtonLabel:c.settings.searchButtonLabel_ga;break;case"optionsFound":d=e?c.settings.optionsFoundLabel:c.settings.optionsFoundLabel_ga;break;case"incompleteAddress":d=e?c.settings.incompleteAddressLabel:c.settings.incompleteAddressLabel_ga;break;case"partialAddress":d=e?c.settings.partialAddressLabel:c.settings.partialAddressLabel_ga;break;case"nuaAddressFound":d=e?c.settings.nuaAddressFoundLabel:c.settings.nuaAddressFoundLabel_ga;break;case"noResultFound":d=e?c.settings.noResultFoundLabel:c.settings.noResultFoundLabel_ga;break;case"noEircodeAppended":d=e?c.settings.noEircodeAppendedLabel:c.settings.noEircodeAppendedLabel_ga;break;case"eircodeNotValidated":d=e?c.settings.eircodeNotValidatedLabel:c.settings.eircodeNotValidatedLabel_ga;break;case"addressFound":d=e?c.settings.addressFoundLabel:c.settings.addressFoundLabel_ga;break;case"inputRequired":d=e?c.settings.inputRequiredLabel:c.settings.inputRequiredLabel_ga;break;case"addressTab":d=e?c.settings.addressTabLabel:c.settings.addressTabLabel_ga;break;case"businessTab":d=e?c.settings.businessTabLabel:c.settings.businessTabLabel_ga;break;case"back":d=e?c.settings.backLabel:c.settings.backLabel_ga}return d},setLabel:function(b,d){var e=this,f=e.language.toUpperCase()===a.utils.languages.en.code;switch(b){case"placeHolderLabel":e.settings.placeHolderLabel=d,f===!0&&e.$searchInput!==c&&e.$searchInput.attr("placeholder",d);break;case"placeHolderLabel_ga":e.settings.placeHolderLabel_ga=d,f===!1&&e.$searchInput!==c&&e.$searchInput.attr("placeholder",d);break;case"searchButtonLabel":e.settings.searchButtonLabel=d,f===!0&&e.$searchButton!==c&&e.$searchButton.html(d);break;case"searchButtonLabel_ga":e.settings.searchButtonLabel_ga=d,f===!1&&e.$searchButton!==c&&e.$searchButton.html(d);break;case"optionsFoundLabel":e.settings.optionsFoundLabel=d;break;case"optionsFoundLabel_ga":e.settings.optionsFoundLabel_ga=d;break;case"incompleteAddressLabel":e.settings.incompleteAddressLabel=d;break;case"incompleteAddressLabel_ga":e.settings.incompleteAddressLabel_ga=d;break;case"partialAddressLabel":e.settings.partialAddressLabel=d;break;case"partialAddressLabel_ga":e.settings.partialAddressLabel_ga=d;break;case"nuaAddressFoundLabel":e.settings.nuaAddressFoundLabel=d;break;case"nuaAddressFoundLabel_ga":e.settings.nuaAddressFoundLabel_ga=d;break;case"noResultFoundLabel":e.settings.noResultFoundLabel=d;break;case"noResultFoundLabel_ga":e.settings.noResultFoundLabel_ga=d;break;case"noEircodeAppendedLabel":e.settings.noEircodeAppendedLabel=d;break;case"noEircodeAppendedLabel_ga":e.settings.noEircodeAppendedLabel_ga=d;break;case"eircodeNotValidatedLabel":e.settings.eircodeNotValidatedLabel=d;break;case"eircodeNotValidatedLabel_ga":e.settings.eircodeNotValidatedLabel_ga=d;break;case"addressFoundLabel":e.settings.addressFoundLabel=d;break;case"addressFoundLabel_ga":e.settings.addressFoundLabel_ga=d;break;case"inputRequiredLabel":e.settings.inputRequiredLabel=d;break;case"inputRequiredLabel_ga":e.settings.inputRequiredLabel_ga=d;break;case"addressTabLabel":e.settings.addressTabLabel=d;break;case"addressTabLabel_ga":e.settings.addressTabLabel_ga=d;break;case"businessTabLabel":e.settings.businessTabLabel=d;break;case"businessTabLabel_ga":e.settings.businessTabLabel_ga=d;break;case"backLabel":e.settings.backLabel=d,f===!0&&e.$backLink!==c&&e.$backLink.html(d);break;case"backLabel_ga":e.settings.backLabel_ga=d,f===!1&&e.$backLink!==c&&e.$backLink.html(d)}},checkResponseContainsError:function(b){var c=this,d=!1;if(b.errors){var e=b.errors[0];c.displayErrorMessage(e.message),a.isFunction(c.settings.onLookupError)&&c.settings.onLookupError.call(c,b),d=!0}return d}}),a.fn.AutoAddress=function(b,e,f){var g="AutoAddress";return 0===arguments.length?this.first().data(g):this.each(function(){var h=a(this),i=h.data(g);"string"==typeof b?i&&"function"==typeof i[b]&&(f!==c?i[b](e,f):i[b](e)):(i&&i.dispose&&i.dispose(),i=new d(this,b),h.data(g,i),a.isFunction(i.settings.onInitialize)&&i.settings.onInitialize.call(i))})}}(jQuery,window),$.fn.AutoAddress.defaults={key:"",language:"EN",country:"IE",geographicAddress:!1,vanityMode:!1,addressElements:!1,addressProfile:"",optionsLimit:"-1",autocomplete:!0,autocompleteMinChars:3,width:"auto",hoverOptionPanel:!1,displayBusinessListings:!0,defaultSearch:!1,placeHolderLabel:"Enter Full Address or Postcode",searchButtonLabel:"Search",optionsFoundLabel:"Please select an option below",incompleteAddressLabel:"Too little information, please enter more details.",partialAddressLabel:"Couldn't find [unmatched] try again or enter address manually below.",nuaAddressFoundLabel:"We’ve found the address, please add your Postcode in the text box below if you know it",noResultFoundLabel:"No search results have been found.",noEircodeAppendedLabel:"Address found, but no Postcode Available.",eircodeNotValidatedLabel:"Eircode found, but address not validated",addressFoundLabel:"Postcode Found, address populated below.",inputRequiredLabel:"Enter a full address or Postcode to begin your search.",errorMessageLabel:"Sorry, an unexpected error has occurred.",addressTabLabel:"Address",businessTabLabel:"Business",backLabel:"Back",placeHolderLabel_ga:"Cuir isteach seoladh iomlán nó Eircode",searchButtonLabel_ga:"Cuardaigh",optionsFoundLabel_ga:"Roghnaigh ceann de na roghanna seo thíos le do thoil:",incompleteAddressLabel_ga:"Ár leithscéal, tá tuilleadh eolais at teastáil uainn",partialAddressLabel_ga:"Ní rabhamar in ann an seoladh a mheaitseáil. Seiceáil an seoladh, le do thoil, agus cuardaigh arís.",nuaAddressFoundLabel_ga:"Táimid tar éis a fuair an seoladh , le do thoil cuir do Eircode sa bhosca thíos má tá a fhios agat é",noResultFoundLabel_ga:"Gan torthaí cuardaigh a shuífear",noEircodeAppendedLabel_ga:"Seoladh aimsíodh, ach níl an seoladh bailíochtaithe",eircodeNotValidatedLabel_ga:"Eircode fuair, ní aghaidh a thabhairt ar bhailíochtú",addressFoundLabel_ga:"Eircode Aimsíodh , seoladh daonra thíos",inputRequiredLabel_ga:"Cuir isteach seoladh iomlán nó Eircode le tús a chur le do chuardach.",errorMessageLabel_ga:"Tá brón orainn , tá earráid gan choinne a tharla",addressTabLabel_ga:"Seoladh",businessTabLabel_ga:"Gnólacht",backLabel_ga:"Siar",containerClass:"autoaddress-control",searchButtonClass:"autoaddress-button",searchInputClass:"autoaddress-text-box",
optionsContainerClass:"autoaddress-options-container",optionsListClass:"autoaddress-options-list",optionsItemClass:"autoaddress-options-item",errorMessageContainerClass:"autoaddress-options-msg error",infoMessageContainerClass:"autoaddress-options-msg info",successMessageContainerClass:"autoaddress-options-msg success",searchingClass:"autoaddress-circle-spinner",loadingAnimationClass:"autoaddress-loader",hideButtonTextClass:"btn-hide-text",autocompleteContainer:"autoaddress-autocomplete",autocompleteSuggestion:"autoaddress-suggestion",backLinkClass:"autoaddress-back-link",closeIconClass:"autoaddress-close-msg",multiTabsClass:"autoaddress-options-tabs",multiTabPaneClass:"autoaddress-options-tab-pane",api_domain:"https://api.autoaddress.ie/2.0",onInitialize:$.noop,onSearchStart:$.noop,onAddressFound:$.noop,onSearchCompleted:$.noop,onAutoCompleteSelected:$.noop,onLookupError:$.noop,onChange:$.noop,onClear:$.noop,onFocus:$.noop};
